# Манифест sh-development

## 1. Stateless & Reusable
- Никаких локальных состояний; всё должно быть воспроизводимым и переиспользуемым.

## 2. Динамику — через Grafana Variables
- Переменные — единственный канал передачи состояний между панелями.

## 3. Строго два уровня дашбордов:
- High-level — обзор системы, минимум деталей. (L2)
- Low-level — глубокий анализ конкретного ресурса/экспортера. (L1)

## 4. Количество Low-level дашбордов = количеству экспортёров
- Один экспортер → один детальный дашборд

## 5. Каждому таргету в prometheus.conf — явный instance label.
- labels:
- instance: "server_name"

## 6. Интервалы для rate() никогда не задаются статично 
- Использовать `[$__rate_interval]`

## 7. Если количество результатов метрик > 5
- Либо считать сумму:  `sum(<query>)`
- Либо использовать top-фильтрацию: `topk($top_x, <query>)`
- `$top_x` — variable.

## 8. Сильное округление на high-level дашбордах
- Цель — убрать шум, оставить  тренды

## 9. Единицы измерения и Legend — обязательны
- График без подписей - линейка без цифр

## 10. Общий стиль
- Толщина линии графа = 1
- Opacity графа = 10%

## 11. Задавать минимальные значения 
- отсекать околонулевые шумы

## 12. Парные метрики — на одном графике
- (Чтение / Запись), (Tx / Rx), (In / Out)
- Отображать в положительной/отрицательной плоскости.

## 13. Каждая панель должна иметь описание
- Описание = краткие правила интерпретации.
- `X > 80% ` — проблема
- `X > 60% ` — всё ок, но внимательно
- `X ~ 40%` — нормальная работа сервиса

## 14. Описание = часть визуализации.
- Если без описания метрику сложно понять — это плохой график.
